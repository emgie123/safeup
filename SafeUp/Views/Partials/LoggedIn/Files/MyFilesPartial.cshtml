@model SafeUp.Models.DBPOSTGREs.Table<SafeUp.Models.SafeUpModels.File>

@{

    Layout = null;

}

<div id="partial-content" class="row">
    <div class="col-lg-12">
        <h2>Moje pliki</h2>
        <div class="panel panel-default">
            <table class="table">
                <thead>
                <tr>
                    <th>Lp.</th>
                    <th>Nazwa pliku</th>
                    <th>Data dodania</th>
                    <th>Rozmiar</th>
                    <th></th>
                    <th></th>
                </tr>
                </thead>
                <tbody>
                @{int counter = 0;}
                @foreach (var file in Model.Rows.Values)
                {
                    counter++;
                    <tr>
                        <td>@counter</td>
                        <td>@file.Name</td>
                        <td>@file.CreatedOn</td>
                        <td>@file.Size</td>
                        <td>
                            @Ajax.ActionLink("Udostępnij", "ShareFile", "MyFiles", new {IdFile = file.ID},
                                new AjaxOptions()
                                {
                                    UpdateTargetId = "modal-content",
                                    HttpMethod = "GET",
                                    InsertionMode = InsertionMode.Replace,
                                    LoadingElementId = "loading"
                                },
                                new {@class = "btn btn-info", type = "button", style = "border-radius:0;", data_toggle = "modal", data_target = "#modal-div"})
                        </td>
                        <td>
                            @Ajax.ActionLink("Pobierz", "DownloadFile", "MyFiles", new { IdFile = file.ID },
                            new AjaxOptions()
                            {
                                UpdateTargetId = "modal-content",
                                HttpMethod = "GET",
                                InsertionMode = InsertionMode.Replace,
                                LoadingElementId = "loading"
                            },
                            new { @class = "btn btn-info", type = "button", style = "border-radius:0;", data_toggle = "modal", data_target = "#modal-div" })
                        </td>
                    </tr>


                }
                </tbody>


            </table>

            <div class="modal fade" id="modal-div" style="margin-top: 5%;">
                <div class="modal-dialog">
                    <div id="modal-content">
                        
                    </div>
                </div>
            </div>




    </div>

        <a href="#" class="btn btn-success" type="button" style="border-radius: 0; margin: 20px;">Dodaj plik</a>


        <a href="#" class="btn btn-success" type="button" style="border-radius: 0; margin: 20px;">Udostępnij</a>

        <ul id="files-list">
            <!-- lista -->
        </ul>


    </div>

</div>
